---
title: "Lab 5: SimpleEnroll"
layout: page
parent: Labs
---

{: .warning-title }
> æˆªæ­¢æ—¶é—´
> 
> Lab 5 çš„å®éªŒæŠ¥å‘Šã€ç¨‹åºä»£ç çš„æäº¤æˆªæ­¢æ—¶é—´æ˜¯ï¼š11.03 11:59 p.m. (å‘¨æ—¥)ã€‚

{: .highlight-title}
> æ”¹ç¼–è¯´æ˜
> 
> Lab 5 æ”¹ç¼–è‡ª [Stanford CS107L Standard C++ Programming Assignment 1](https://github.com/cs106l/cs106l-assignments/blob/main/assign1/README.md)ï¼Œè‹±æ–‡å¥½çš„åŒå­¦ä¹Ÿå¯ä»¥ç›´æ¥é˜…è¯»åŸä½œä¸šæ–‡æ¡£ã€‚

# Lab 5: SimpleEnroll \[[åˆå§‹ä»£ç ](https://znas.cn/AppH5/share/?nid=KEYDEMJQGA2DCRKHGJBTS&code=q1UQP6vKHKwLn1f0m16ksqBonDVQrYKuWGPDyu750e01c8ESezenhm2m2wv94FFOk75&mode=file&display=list)\] \[[å®éªŒæŠ¥å‘Š](https://znas.cn/AppH5/share/?nid=KEYDEMJQGA2DCRKHGJBTS&code=T3ZGdm1D9Ga7GGgFTwAkDZm3NHsG36MW00c6WgpjQLo8JuUTnSg2DD9K0i2ORJdym3d&mode=file&display=list)\]
{: .no_toc }

## Table of Contents
{: .no_toc .text-delta }

1. TOC
{:toc}

## æ¦‚è§ˆ

åˆåˆ°äº†å­¦æœŸåˆä½¿ç”¨SimpleEnrollçš„æ—¶å€™ ğŸ¤— ï¼åœ¨å¤§å®¶çš„å­¦ä¹ ç”Ÿæ¶¯ä¸­ï¼Œæ¯ä¸ªäººéƒ½ä¼šæ„è¯†åˆ°ï¼Œæœ€ç»ˆéƒ½è¦æ¯•ä¸šâ€”â€”æ‰€ä»¥é€‰è¯¾å˜æˆäº†ä¸€é¡¹æˆ˜ç•¥æ€§ä»»åŠ¡ï¼Œæ—¢è¦å°½é‡å¤šä¿®å­¦åˆ†ï¼Œä¹Ÿè¦ç¡®ä¿æ¯å¤©ç¡çœ ä¸å°‘äº4å°æ—¶ï¼

åœ¨è¿™ä¸ªå¸Œæœ›ä¸ä¼šå¤ªé•¿çš„ä½œä¸šä¸­ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨ExploreCourses APIçš„æ•°æ®ï¼Œæ‰¾å‡ºä»Šå¹´åœ¨ExploreCoursesä¸Šå¼€è®¾çš„CSè¯¾ç¨‹ï¼Œä»¥åŠå“ªäº›æœªå¼€è®¾çš„è¯¾ç¨‹ï¼æˆ‘ä»¬å°†ä½¿ç”¨æµæ“ä½œï¼ŒåŒæ—¶ç»ƒä¹ C++ä¸­çš„åˆå§‹åŒ–å’Œå¼•ç”¨ã€‚è®©æˆ‘ä»¬å¼€å§‹å§ Ê•â€¢Ìá´¥â€¢Ì€Ê”ã£

ä½ åªéœ€å…³æ³¨ä¸¤ä¸ªæ–‡ä»¶ï¼š

* `main.cpp`ï¼šæ‰€æœ‰ä»£ç éƒ½å†™åœ¨è¿™é‡Œ ğŸ˜€ï¼
* `utils.cpp`ï¼šåŒ…å«ä¸€äº›å®ç”¨å‡½æ•°ã€‚ä½ éœ€è¦ä½¿ç”¨æ­¤æ–‡ä»¶ä¸­çš„å‡½æ•°ï¼Œä½†ä¸éœ€è¦ä¿®æ”¹å®ƒã€‚

**è¯·åœ¨æ ‡é¢˜å¤„ä¸‹è½½åˆå§‹ä»£ç ã€‚**

æœ¬æ¬¡å®éªŒæä¾›äº†æœ¬åœ°çš„è‡ªåŠ¨æ‰“åˆ†ç¨‹åºï¼Œä½†æ˜¯éœ€è¦é…ç½®ä¸€ä¸‹ç¯å¢ƒã€‚å¦‚æœä½ æƒ³è¦åœ¨æœ¬åœ°æµ‹è¯•è‡ªå·±çš„ä»£ç æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œè¯·å‚è€ƒ[è¿™ä¸ªæ–‡æ¡£](https://abotw.github.io/cpp/labs/lab0.html#lab-5-%E6%9C%AC%E5%9C%B0%E6%89%93%E5%88%86%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B-windows)é‡Œçš„å†…å®¹ã€‚

## è¿è¡Œä»£ç 

è¦è¿è¡Œä»£ç ï¼Œé¦–å…ˆéœ€è¦ç¼–è¯‘å®ƒã€‚æ‰“å¼€ç»ˆç«¯ï¼ˆå¦‚æœä½¿ç”¨VSCodeï¼Œå¯ä»¥æŒ‰ `Ctrl+Shift+\` æˆ–ç‚¹å‡»é¡¶éƒ¨çš„ **Terminal > New Terminal**ï¼Œæˆ–è€…æ˜¯**ç»ˆç«¯ > æ–°ç»ˆç«¯**ï¼‰ã€‚ç„¶åç¡®ä¿åœ¨ `lab5/` ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```sh
g++ -static-libstdc++ -std=c++20 main.cpp -o main
```

å‡è®¾ä»£ç æ²¡æœ‰ç¼–è¯‘é”™è¯¯ï¼Œç°åœ¨å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```sh
./main.exe
```

è¿™å°†è¿è¡Œ `main.cpp` ä¸­çš„ `main` å‡½æ•°ï¼Œæ‰§è¡Œä»£ç å¹¶å¯åŠ¨è‡ªåŠ¨è¯„åˆ†ç¨‹åºæ£€æŸ¥ä»£ç æ˜¯å¦æ­£ç¡®ã€‚

åœ¨å®Œæˆä»¥ä¸‹æ­¥éª¤æ—¶ï¼Œå»ºè®®ä¸æ—¶åœ°ç¼–è¯‘å’Œä½¿ç”¨è‡ªåŠ¨è¯„åˆ†ç¨‹åºï¼Œä»¥ç¡®ä¿è¿›å±•é¡ºåˆ©ï¼

1. æ‰“å¼€Lab 5çš„å®éªŒæ–‡ä»¶å¤¹ï¼š
   ![](attachments/lab5-1.png)
   ![](attachments/lab5-2.png)
2. æ‰“å¼€ç»ˆç«¯çª—å£ï¼š
   ![](attachments/lab5-3.png)
3. è¾“å…¥ç›¸å…³å‘½ä»¤ï¼Œæ‰§è¡Œä»£ç å¹¶å¯åŠ¨è‡ªåŠ¨è¯„åˆ†ç¨‹åºæ£€æŸ¥ä»£ç æ˜¯å¦æ­£ç¡®ï¼š
   ![](attachments/lab5-4.png)

## Part 0: é˜…è¯»ä»£ç å¹¶å®Œå–„ `Course` ç»“æ„ä½“

1. åœ¨æœ¬æ¬¡ä½œä¸šä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ `Course` ç»“æ„ä½“è¡¨ç¤ºä» ExploreCourses æå–çš„æ•°æ®è®°å½•ã€‚æŸ¥çœ‹ `main.cpp` ä¸­ `Course` ç»“æ„ä½“çš„å®šä¹‰å¹¶è¡¥å……å­—æ®µçš„æ•°æ®ç±»å‹ã€‚æœ€ç»ˆæˆ‘ä»¬å°†ä½¿ç”¨æµç”Ÿæˆ `Course` â€”â€” è¿˜è®°å¾—æµå¤„ç†å“ªäº›æ•°æ®ç±»å‹å—ï¼Ÿ
2. æŸ¥çœ‹ `main.cpp` ä¸­çš„ `main` å‡½æ•°ï¼Œæ³¨æ„ `courses` å¦‚ä½•ä¼ é€’åˆ° `parse_csv`ã€`write_courses_offered` å’Œ `write_courses_not_offered` ä¸­ã€‚æ€è€ƒè¿™äº›å‡½æ•°çš„åŠŸèƒ½ã€‚æ˜¯å¦éœ€è¦æ›´æ”¹å‡½æ•°å®šä¹‰ï¼Ÿæç¤ºä¸€ä¸‹ï¼Œç¡®å®éœ€è¦ã€‚

## Part 1: `parse_csv`

æŸ¥çœ‹ `courses.csv` æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŒ…å«ä¸‰åˆ—çš„CSVæ–‡ä»¶ï¼šTitleã€Number of Unitså’ŒQuarterã€‚å®ç° `parse_csv` å‡½æ•°ï¼Œä½¿å¾—å¯¹äºCSVæ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«Titleã€Number of Unitså’ŒQuarterçš„ `Course` ç»“æ„ä½“ã€‚

å‡ ä¸ªéœ€è¦æ€è€ƒçš„é—®é¢˜ï¼š
1. å¦‚ä½•è¯»å– `courses.csv` æ–‡ä»¶ï¼Ÿæˆ–è®¸ç”¨æµæ“ä½œ ğŸ˜ï¼Ÿ
2. å¦‚ä½•é€è¡Œè¯»å–æ–‡ä»¶ï¼Ÿ

### æç¤º

1. æŸ¥çœ‹ `utils.cpp` ä¸­æä¾›çš„ `split` å‡½æ•°ï¼Œå¯èƒ½ä¼šæ´¾ä¸Šç”¨åœºï¼
    * æ¬¢è¿æŸ¥çœ‹ `split` çš„å®ç°ï¼Œå®ƒä½¿ç”¨çš„æ˜¯ `stringstream`ï¼Œåº”è¯¥æ˜¯å¯ä»¥ç†è§£çš„ã€‚
2. æ¯**è¡Œ**æ˜¯ä¸€ä¸ªè®°å½•ï¼*è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å†æ¬¡å¼ºè°ƒ :>)*
3. åœ¨CSVæ–‡ä»¶ä¸­ï¼ˆç‰¹åˆ«æ˜¯ `courses.csv` æ–‡ä»¶ï¼‰ï¼Œç¬¬ä¸€è¡Œé€šå¸¸æ˜¯åˆ—åå®šä¹‰è¡Œï¼ˆè¡¨å¤´è¡Œï¼Œæˆ–è€…è¯´æ ‡é¢˜è¡Œï¼‰ã€‚è¿™è¡Œå®é™…ä¸Šå¹¶ä¸å¯¹åº”ä¸€ä¸ª `Course`ï¼Œæ‰€ä»¥ä½ éœ€è¦è·³è¿‡å®ƒï¼

## Part 2: `write_courses_offered`

OKï¼Œç°åœ¨ä½ å·²ç»æœ‰äº†ä¸€ä¸ª `courses` vectorï¼Œé‡Œé¢å­˜æ”¾äº† `courses.csv` æ–‡ä»¶ä¸­çš„æ‰€æœ‰è®°å½•ï¼Œæ¯æ¡è®°å½•éƒ½å­˜å‚¨åœ¨ä¸€ä¸ª `Course` ç»“æ„ä½“ä¸­ï¼å‡å®šä½ åªå¯¹å¼€è®¾äº†çš„è¯¾ç¨‹æ„Ÿå…´è¶£ã€‚**å¦‚æœæŸè¯¾ç¨‹çš„ `quarter` å­—æ®µä¸ç­‰äºå­—ç¬¦ä¸² `"null"`ï¼Œåˆ™è¯¥è¯¾ç¨‹å·²å¼€è®¾ã€‚** åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå°†æ‰€æœ‰ `quarter` å­—æ®µä¸ä¸º `"null"` çš„è¯¾ç¨‹å†™å…¥ `â€œstudent_output/courses_offered.csvâ€` æ–‡ä»¶ã€‚

{: .highlight-title}
> [!é‡è¦]  
> 
> åœ¨å†™å…¥CSVæ–‡ä»¶æ—¶ï¼Œè¯·éµå¾ªä»¥ä¸‹æ ¼å¼ï¼š
> 
> `<Title>,<Number of Units>,<Quarter>`
> 
> è¯·æ³¨æ„ï¼Œé€—å·ä¹‹é—´**æ²¡æœ‰ç©ºæ ¼**ï¼å¦‚æœä¸ç¬¦åˆè¯¥æ ¼å¼ï¼Œè‡ªåŠ¨è¯„åˆ†ç¨‹åºå°†ä¸è®¤å¯ã€‚
> æ­¤å¤–ï¼Œ**ç¡®ä¿åœ¨è¾“å‡ºæ–‡ä»¶çš„ç¬¬ä¸€è¡Œå†™å…¥æ ‡é¢˜è¡Œ**ã€‚è¿™ä¸ä¸Šä¸€æ­¥ä¸­åœ¨ `courses.csv` æ–‡ä»¶ä¸­éœ€è¦è·³è¿‡æ ‡é¢˜è¡Œç›¸åŒï¼

`write_courses_offered` å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰å¼€è®¾çš„è¯¾ç¨‹ï¼ˆä¹Ÿå°±æ˜¯å†™å…¥åˆ°è¾“å‡ºæ–‡ä»¶ä¸­çš„è¯¾ç¨‹ï¼‰å°†ä» `all_courses` vector ä¸­ç§»é™¤ã€‚**è¿™æ„å‘³ç€è¯¥å‡½æ•°æ‰§è¡Œåï¼Œ`all_courses` ä¸­åº”è¯¥ä»…åŒ…å«æœªå¼€è®¾çš„è¯¾ç¨‹ï¼**

ä¸€ç§å®ç°æ–¹æ³•æ˜¯ä½¿ç”¨å¦ä¸€ä¸ª vector è®°å½•å·²å¼€è®¾è¯¾ç¨‹ï¼Œå¹¶ä» `all_courses` ä¸­åˆ é™¤å®ƒä»¬ã€‚ä¸Pythonå’Œè®¸å¤šå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œåœ¨éå†æ—¶åˆ é™¤å…ƒç´ å¹¶ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦åœ¨æŠŠæ‰€æœ‰å¼€è®¾è¯¾ç¨‹å†™å…¥æ–‡ä»¶åæ‰§è¡Œåˆ é™¤æ“ä½œã€‚

## Part 3: `write_courses_not_offered`

ä»€ä¹ˆï¼Œä½ å¯¹æœªå¼€è®¾çš„è¯¾ç¨‹æ›´æ„Ÿå…´è¶£ï¼Ÿ

åœ¨ `write_courses_not_offered` è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå°† `unlisted_courses` ä¸­çš„è¯¾ç¨‹å†™å…¥ `â€œstudent_output/courses_not_offered.csvâ€` æ–‡ä»¶ã€‚å› ä¸ºåœ¨ä¸Šä¸€æ­¥ä¸­å·²åˆ é™¤äº†å¼€è®¾çš„è¯¾ç¨‹ï¼Œ`unlisted_courses` é‡Œé¢è‡ªç„¶åªåŒ…å«æœªå¼€è®¾çš„è¯¾ç¨‹â€”â€”çœŸæ˜¯çœå¿ƒå‘¢ã€‚

Part 3 ä¸ Part 2 ç±»ä¼¼ï¼Œä½†æ›´ç®€å•äº›ã€‚

## ğŸš€ æäº¤è¯´æ˜

ç¼–è¯‘å¹¶è¿è¡Œä»£ç åï¼Œå¦‚æœè‡ªåŠ¨è¯„åˆ†ç¨‹åºçš„è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š

![](attachments/Pasted%20image%2020241026104906.png)

é‚£ä¹ˆæ­å–œä½ å®Œæˆäº†ä½œä¸šï¼

## æäº¤é“¾æ¥

1. [ã€å®éªŒæŠ¥å‘Šã€‘æäº¤é“¾æ¥](https://znas.cn/AppH5/share/collection?code=6lX86Ttcl3LxvVEw0FgZfb2tm25Zjd0X0uAsRiqpcrH2O6n5PqoqlWRSkgAcqgKM3&nid=KEYDEMJQGA2DCRKHGJBTS&mode=file&display=list&type=3)
	1. ç”±äºæœ¬æ¬¡å®éªŒè€ƒæŸ¥çŸ¥è¯†çš„ç»¼åˆåº”ç”¨ï¼Œå…·æœ‰ä¸€å®šçš„éš¾åº¦ï¼Œå› æ­¤ä½œä¸ºä¸€ä¸ªæ¢ç©¶å‹çš„å®éªŒï¼Œè¯·å¤§å®¶åœ¨å®éªŒæŠ¥å‘Šä¸­è¯¦ç»†è®°å½•è‡ªå·±çš„æ€è·¯ï¼Œä»¥åŠè§£å†³é—®é¢˜çš„æ–¹å¼ï¼Œå¹¶ä»¥æ­¤ä½œä¸ºæ‰“åˆ†çš„ä¸»è¦ä¾æ®ã€‚
		1. æ¯”å¦‚ä½ ç¢°åˆ°äº†ä»€ä¹ˆå›°éš¾ï¼Œæ˜¯å’Œè°è®¨è®ºçš„ï¼Ÿ
		2. å¦‚æœæ²¡æœ‰å’Œäººè®¨è®ºï¼Œè‡ªå·±æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ
	2. å®éªŒæŠ¥å‘Šä¸­è¯·è´´å‡º `parse_csv`ã€`write_courses_offered` å’Œ `write_courses_not_offered` è¿™3ä¸ªå‡½æ•°çš„ä»£ç ã€‚
2. [ã€ç¨‹åºä»£ç ã€‘æäº¤é“¾æ¥](https://znas.cn/AppH5/share/collection?code=6lX86Ttcl3LxvVEw0FgZfTAEzDoECL5I0R6OoJbQHm2fN7UNyiYiv9Zd1kRm3yetgT&nid=KEYDEMJQGA2DCRKHGJBTS&mode=file&display=list&type=3)
	1. è¯·å°†åˆå§‹ä»£ç çš„æ–‡ä»¶å¤¹åç§° `lab5` æ›´æ”¹ä¸ºä½ çš„å­¦å·ï¼Œå¹¶å‹ç¼©ä¸º .zip æ–‡ä»¶æäº¤ã€‚
	2. ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ çš„å­¦å·æ˜¯â€œ24302081100â€ï¼Œåˆ™ä½ éœ€è¦æäº¤çš„ .zip æ–‡ä»¶çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```
24302081100.zip
â”œâ”€â”€ README.md
â”œâ”€â”€ autograder
â”œâ”€â”€ courses.csv
â”œâ”€â”€ docs
â”œâ”€â”€ main.exe
â”œâ”€â”€ main.cpp
â”œâ”€â”€ student_output
â””â”€â”€ utils.cpp
```

## å‚è€ƒèµ„æ–™

### New Features in C++11, C++11 çš„æ–°ç‰¹æ€§

![](attachments/r2-02.png)

![](attachments/r2-03.png)

### C++ I/O Streams, C++ è¾“å…¥è¾“å‡ºæµ

![](attachments/r2-04.png)

### Member Functions, I/O æˆå‘˜å‡½æ•°

![](attachments/r2-06.png)

### File Access, æ–‡ä»¶è®¿é—®

![](attachments/r2-07.png)

### C++ String Class, C++ å­—ç¬¦ä¸²ç±»

![](attachments/r2-08.png)

![](attachments/r2-09.png)

### String stream Input and Output, å­—ç¬¦ä¸²è¾“å…¥è¾“å‡ºæµ

![](attachments/r2-11.png)

### STL Vector Container, STL Vector å®¹å™¨


![](attachments/r3-02.png)

---

Last Updated: Wed Oct 30 21:59:11 CST 2024












